{# Reusable admin action buttons partial #}
{# Usage: {% include 'admin_actions.html' with recipe=recipe_obj target_user=user_obj %} #}

{% if recipe %}
    {# Recipe deletion button - available to admins and moderators #}
    {% if user.is_admin or user.is_moderator %}
        <a href="{% url 'delete_recipe' recipe.id %}" 
           class="btn btn-danger btn-sm" 
           onclick="return confirm('Are you sure you want to delete this recipe?');"
           title="Delete Recipe">
            <i class="bi bi-trash"></i> Delete Recipe
        </a>
    {% endif %}
{% endif %}

{% if target_user %}
    {# User deletion button - admins only #}
    {% if user.is_admin %}
        <a href="{% url 'delete_user' target_user.id %}" 
           class="btn btn-danger btn-sm" 
           onclick="return confirm('Are you sure you want to delete user {{ target_user.username }}? This action cannot be undone.');"
           title="Delete User">
            <i class="bi bi-person-x"></i> Delete User
        </a>
    {% endif %}
    
    {# User flagging button - admins and moderators #}
    {% if user.is_admin or user.is_moderator %}
        <a href="{% url 'flag_user' target_user.id %}" 
           class="btn btn-warning btn-sm" 
           onclick="return confirm('Flag user {{ target_user.username }} for deletion?');"
           title="Flag for Deletion">
            <i class="bi bi-flag"></i> Flag User
        </a>
    {% endif %}
{% endif %}

